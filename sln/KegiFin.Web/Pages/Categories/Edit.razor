@page "/categories/edit/{id}"

@inherits EditCategoryPage

<MudText Typo="Typo.h3">Edit Category</MudText>
@if (IsBusy)
{
    <MudPaper Class="pa-8 mt-4">
        <MudSkeleton Height="55px" />
        <MudSkeleton Height="110px" />
        <MudSkeleton Height="55px" />
        <MudSkeleton Height="110px" />
    </MudPaper>    
}
else
{
    <MudPaper Class="pa-8 mt-4">
        <EditForm Model="@InputModel" OnValidSubmit="OnValidSubmitAsync">
            <DataAnnotationsValidator />
        
            <MudTextField 
                Label="Name"
                HelperText="The name of the category"
                Required="true"
                @bind-Value="@InputModel.Name"
                For="@(() => InputModel.Name)"
                Clearable="true"
                Immediate="true"
                Class="mb-5"
            />
        
            <MudTextField 
                Label="Description"
                Lines="5"
                HelperText="The description of the category"
                @bind-Value="@InputModel.Description"
                For="@(() => InputModel.Description)"
                Variant="Variant.Outlined"
                Placeholder="Write the category description here..."
                Clearable="true"
                Immediate="true"
            />
        
            <MudButton ButtonType="ButtonType.Submit" Color="Color.Primary" Class="mt-3" EndIcon="@Icons.Material.Filled.Save">Save</MudButton>
            <MudButton 
                Href="/categories" 
                Variant="Variant.Outlined" 
                Color="Color.Error"
                EndIcon="@Icons.Material.Filled.Cancel"
                Class="mt-3 ml-2"
                Size="Size.Small">
                Cancel
            </MudButton>
        </EditForm>
    </MudPaper>
}
